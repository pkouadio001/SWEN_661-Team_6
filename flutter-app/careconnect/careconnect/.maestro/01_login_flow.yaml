appId: com.example.careconnect
---
# E2E Test 1: Complete Login Flow
- launchApp

# Wait for app to load (either login or dashboard)
- extendedWaitUntil:
    visible:
      text: ".*"
    timeout: 15000

# Check if we're already logged in (dashboard appears)
- runFlow:
    when:
      visible: "Welcome, John Doe"
    commands:
      # Already on dashboard, verify elements
      - assertVisible: "Welcome, John Doe"
      - assertVisible: "Profile & Settings"
      - assertVisible: "Notifications"
      - assertVisible: "Patient Information"
      - assertVisible: "SOS EMERGENCY"
      - assertVisible: "Home"
      - assertVisible: "Tasks"

# If not logged in, handle login screen
- runFlow:
    when:
      visible: "LOGIN"
    commands:
      # On login screen, verify and login
      - assertVisible: "CareConnect"
      - assertVisible: "Your Healthcare Partner"
      - assertVisible: "Secure Access"
      - assertVisible: "Role-Based"
      - tapOn: "LOGIN"
      - extendedWaitUntil:
          visible: "Welcome, John Doe"
          timeout: 15000
      - assertVisible: "SOS EMERGENCY"
